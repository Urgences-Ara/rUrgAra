% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{fct_convert_time_labels}
\alias{fct_convert_time_labels}
\title{Convertir une durée (en minutes) en étiquette lisible (jours/heures/minutes)}
\usage{
fct_convert_time_labels(
  d_min,
  precision = "mins",
  sep_j = "j",
  sep_h = "h",
  sep_min = "",
  silent = FALSE,
  rounding = "round"
)
}
\arguments{
\item{d_min}{\code{numeric} ou \code{integer} (vectorisé).
Durée(s) en minutes à convertir. Doit être \strong{finie} (pas de \code{NA}, \code{Inf}).}

\item{precision}{\code{character(1)} ; l'une de \code{"mins"} (défaut), \code{"hours"}, \code{"days"}.}

\item{sep_j}{\code{character(1)} ; séparateur/suffixe pour les jours (défaut \code{"j"}).}

\item{sep_h}{\code{character(1)} ; séparateur/suffixe pour les heures (défaut \code{"h"}).}

\item{sep_min}{\code{character(1)} ; séparateur/suffixe pour les minutes (défaut \code{""}).}

\item{silent}{\code{logical(1)} ; Permet de contrôler l'émission d'un avertissement lors
de la conversion des valeurs négatives en \code{NA}.}

\item{rounding}{\code{character(1)} ; stratégie d'arrondi pour les modes \code{"days"} et \code{"hours"}.
L'une de \code{"round"} (défaut), \code{"floor"}, \code{"ceiling"}.}
}
\value{
Un vecteur \code{character} de même longueur que \code{d_min} contenant les étiquettes formatées.
}
\description{
Formate un vecteur de durées en minutes en libellés lisibles à la française,
avec une précision au choix : jours seuls, jours+heures (heures arrondies),
ou heures:minutes (zéro‑remplies).
}
\details{
\itemize{
\item \strong{Validation} : \code{d_min} doit être numérique et \strong{fini} (\code{NA}/\code{Inf} non autorisés).
\item \strong{Négatifs} : les valeurs \strong{négatives} sont converties en \code{NA} (sans avertissement à ce jour).
\item \strong{Précision} :
\itemize{
\item \code{precision = "days"} : renvoie uniquement le nombre de jours selon \code{rounding},
concaténé à \code{sep_j}.
\item \code{precision = "hours"} : renvoie le nombre de jours (si > 0) suivi des \strong{heures arrondies}
selon \code{rounding} et \code{sep_h}.
\item \code{precision = "mins"} (défaut) : renvoie \code{HHhMM} avec \strong{zéro‑remplissage} (\code{sprintf("\%02d")}),
précédé du nombre de jours si > 0.
}
}

Les séparateurs \code{sep_j}, \code{sep_h} et \code{sep_min} permettent de personnaliser le rendu (par ex. \code{" j "},
\code{" h "}, \code{" min"}).
}
\section{Comportements notables }{

\itemize{
\item La fonction est vectorisée sur \code{d_min}.
\item En mode \code{"hours"}, \strong{les heures} issues du reliquat de minutes sont arrondies via \code{rounding};
en mode \code{"mins"}, on \strong{zéro‑remplit} \code{HH} et \code{MM} sans arrondir les minutes.
\item Les valeurs négatives deviennent \code{NA} dans la sortie.
}
}

\examples{
# Heures:minutes (zéro-remplissage), avec jours si nécessaire
fct_convert_time_labels(c(65764, NA, 138, 28, 1440, 654), "mins")          # "00h00"

# Jours + heures (arrondies) selon la stratégie
fct_convert_time_labels(c(65764, NA, 138, 28, 1440, 654), "hours", rounding = "round")   # "2h"
fct_convert_time_labels(c(65764, NA, 138, 28, 1440, 654), "hours", rounding = "floor")   # "1h"
fct_convert_time_labels(c(65764, NA, 138, 28, 1440, 654), "hours", rounding = "ceiling") # "2h"

# Négatifs -> NA
fct_convert_time_labels(c(45, -1, 61), "mins")

}
\seealso{
sprintf(), base::ifelse(), round(), floor(), ceiling()
}
